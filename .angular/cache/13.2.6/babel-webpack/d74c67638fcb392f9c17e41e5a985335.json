{"ast":null,"code":"import { environment } from 'src/environments/environment.prod';\nimport Swal from 'sweetalert2';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/common/http\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"./../../auth.service\";\nimport * as i5 from \"@angular/common\";\n\nfunction LoginComponent_div_28_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Email obligatorio\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction LoginComponent_div_28_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Email inv\\u00E1lido\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction LoginComponent_div_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 28);\n    i0.ɵɵtemplate(1, LoginComponent_div_28_div_1_Template, 2, 0, \"div\", 29);\n    i0.ɵɵtemplate(2, LoginComponent_div_28_div_2_Template, 2, 0, \"div\", 29);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.f[\"email\"].errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.f[\"email\"].errors[\"email\"]);\n  }\n}\n\nfunction LoginComponent_div_33_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Contrase\\u00F1a obligatoria\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction LoginComponent_div_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 28);\n    i0.ɵɵtemplate(1, LoginComponent_div_33_div_1_Template, 2, 0, \"div\", 29);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.f[\"password\"].errors[\"required\"]);\n  }\n}\n\nconst _c0 = function (a0) {\n  return {\n    \"is-invalid\": a0\n  };\n};\n\nexport let LoginComponent = /*#__PURE__*/(() => {\n  class LoginComponent {\n    constructor(router, http, formBuilder, auth) {\n      this.router = router;\n      this.http = http;\n      this.formBuilder = formBuilder;\n      this.auth = auth;\n      this.base = environment.base;\n      this.submitted = false;\n      this.form = new FormGroup({\n        email: new FormControl(''),\n        password: new FormControl('')\n      });\n    }\n\n    get f() {\n      return this.form.controls;\n    }\n\n    ngOnInit() {\n      this.form = this.formBuilder.group({\n        email: ['', [Validators.required, Validators.email]],\n        password: ['', Validators.required]\n      });\n    }\n\n    goToPage(pageName) {\n      this.router.navigate([`${pageName}`]);\n    }\n\n    onSubmit() {\n      var user = this.form.value;\n      return this.auth.getLogin(user['email'], user['password']).subscribe(data => {\n        if (data['loggued'] == true) {\n          //sweetalert message popup\n          Swal.fire({\n            title: 'Bienvenido ' + data['user']['Nombre'] + '!!',\n            text: \"Inicio de sesión correcto\",\n            icon: 'success'\n          });\n          this.auth.setLoggedIn(true);\n          this.goToPage('home');\n        } else {\n          //sweetalert message popup\n          Swal.fire({\n            title: 'Error!!',\n            text: \"Usuario o contraseña incorrectos\",\n            icon: 'error'\n          });\n          this.auth.setLoggedIn(false);\n          this.submitted = false;\n        }\n      });\n    }\n\n    resetPass() {\n      var user = this.form.value;\n      return this.auth.getResetPass(user['email']).subscribe(data => {});\n    }\n\n    onReset() {\n      this.submitted = false;\n      this.form.reset();\n    }\n\n  }\n\n  LoginComponent.ɵfac = function LoginComponent_Factory(t) {\n    return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.HttpClient), i0.ɵɵdirectiveInject(i3.FormBuilder), i0.ɵɵdirectiveInject(i4.AuthService));\n  };\n\n  LoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LoginComponent,\n    selectors: [[\"app-login\"]],\n    decls: 42,\n    vars: 9,\n    consts: [[\"lang\", \"en\"], [\"charset\", \"utf-8\"], [\"name\", \"viewport\", \"content\", \"width=device-width, initial-scale=1\"], [\"name\", \"description\", \"content\", \"\"], [\"name\", \"author\", \"content\", \"Mark Otto, Jacob Thornton, and Bootstrap contributors\"], [\"name\", \"generator\", \"content\", \"Hugo 0.88.1\"], [\"rel\", \"canonical\", \"href\", \"https://getbootstrap.com/docs/5.1/examples/sign-in/\"], [\"href\", \"/docs/5.1/dist/css/bootstrap.min.css\", \"rel\", \"stylesheet\", \"integrity\", \"sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3\", \"crossorigin\", \"anonymous\"], [\"rel\", \"apple-touch-icon\", \"href\", \"/docs/5.1/assets/img/favicons/apple-touch-icon.png\", \"sizes\", \"180x180\"], [\"rel\", \"icon\", \"href\", \"/assets/img/logo-32x32.png\", \"sizes\", \"32x32\", \"type\", \"image/png\"], [\"rel\", \"icon\", \"href\", \"/assets/img/logo-16x16.png\", \"sizes\", \"16x16\", \"type\", \"image/png\"], [\"rel\", \"manifest\", \"href\", \"/docs/5.1/assets/img/favicons/manifest.json\"], [\"rel\", \"mask-icon\", \"href\", \"/docs/5.1/assets/img/favicons/safari-pinned-tab.svg\", \"color\", \"#7952b3\"], [\"rel\", \"icon\", \"href\", \"/assets/img/logo.ico\"], [\"name\", \"theme-color\", \"content\", \"#7952b3\"], [1, \"text-center\"], [1, \"form-signin\"], [3, \"formGroup\", \"ngSubmit\"], [\"src\", \"../assets/img/logo.png\", \"alt\", \"\", \"width\", \"80\", \"height\", \"80\", 1, \"mb-4\"], [1, \"h3\", \"mb-3\", \"fw-normal\"], [1, \"form-floating\"], [\"type\", \"email\", \"id\", \"email\", \"name\", \"email\", \"formControlName\", \"email\", 1, \"form-control\", 3, \"ngClass\"], [\"for\", \"floatingInput\"], [\"class\", \"invalid-feedback\", 4, \"ngIf\"], [\"type\", \"password\", \"id\", \"password\", \"name\", \"password\", \"formControlName\", \"password\", 1, \"form-control\", 3, \"ngClass\"], [\"for\", \"floatingPassword\"], [\"type\", \"submit\", 1, \"w-100\", \"btn\", \"btn-lg\", \"btn-primary\", \"mb-4\"], [\"role\", \"button\", 1, \"mt-5\", \"mb-3\", \"link-secondary\", 3, \"click\"], [1, \"invalid-feedback\"], [4, \"ngIf\"]],\n    template: function LoginComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"html\", 0)(1, \"head\");\n        i0.ɵɵelement(2, \"meta\", 1)(3, \"meta\", 2)(4, \"meta\", 3)(5, \"meta\", 4)(6, \"meta\", 5);\n        i0.ɵɵelementStart(7, \"title\");\n        i0.ɵɵtext(8, \"Signin Template \\u00B7 Bootstrap v5.1\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(9, \"link\", 6)(10, \"link\", 7)(11, \"link\", 8)(12, \"link\", 9)(13, \"link\", 10)(14, \"link\", 11)(15, \"link\", 12)(16, \"link\", 13)(17, \"meta\", 14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"body\", 15)(19, \"main\", 16)(20, \"form\", 17);\n        i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_20_listener() {\n          return ctx.onSubmit();\n        });\n        i0.ɵɵelement(21, \"img\", 18);\n        i0.ɵɵelementStart(22, \"h1\", 19);\n        i0.ɵɵtext(23, \"Inicio de Sesi\\u00F3n\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"div\", 20);\n        i0.ɵɵelement(25, \"input\", 21);\n        i0.ɵɵelementStart(26, \"label\", 22);\n        i0.ɵɵtext(27, \"Direcci\\u00F3n Email\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(28, LoginComponent_div_28_Template, 3, 2, \"div\", 23);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"div\", 20);\n        i0.ɵɵelement(30, \"input\", 24);\n        i0.ɵɵelementStart(31, \"label\", 25);\n        i0.ɵɵtext(32, \"Contrase\\u00F1a\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(33, LoginComponent_div_33_Template, 2, 1, \"div\", 23);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(34, \"br\");\n        i0.ɵɵelementStart(35, \"button\", 26);\n        i0.ɵɵtext(36, \"Iniciar Sesi\\u00F3n\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(37, \"a\", 27);\n        i0.ɵɵlistener(\"click\", function LoginComponent_Template_a_click_37_listener() {\n          return ctx.resetPass();\n        });\n        i0.ɵɵtext(38, \"Olvid\\u00E9 mi contrase\\u00F1a\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(39, \"br\");\n        i0.ɵɵelementStart(40, \"a\", 27);\n        i0.ɵɵlistener(\"click\", function LoginComponent_Template_a_click_40_listener() {\n          return ctx.goToPage(\"signup\");\n        });\n        i0.ɵɵtext(41, \"Registrarse\");\n        i0.ɵɵelementEnd()()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(20);\n        i0.ɵɵproperty(\"formGroup\", ctx.form);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(5, _c0, ctx.submitted && ctx.f[\"email\"].errors));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.submitted && ctx.f[\"email\"].errors);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(7, _c0, ctx.submitted && ctx.f[\"password\"].errors));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.submitted && ctx.f[\"password\"].errors);\n      }\n    },\n    directives: [i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.FormGroupDirective, i3.DefaultValueAccessor, i3.NgControlStatus, i3.FormControlName, i5.NgClass, i5.NgIf],\n    styles: [\"html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:40px;padding-bottom:40px;background-color:#f5f5f5}.form-signin[_ngcontent-%COMP%]{width:100%;max-width:330px;padding:15px;margin:auto}.form-signin[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{font-weight:400}.form-signin[_ngcontent-%COMP%]   .form-floating[_ngcontent-%COMP%]:focus-within{z-index:2}.form-signin[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-signin[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{margin-bottom:10px;border-top-left-radius:0;border-top-right-radius:0}button[_ngcontent-%COMP%]{background-color:#f60}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#f30;color:#fff}.img[_ngcontent-%COMP%]{color:#32a942}\", \".bd-placeholder-img[_ngcontent-%COMP%] {\\n        font-size: 1.125rem;\\n        text-anchor: middle;\\n        -webkit-user-select: none;\\n        -moz-user-select: none;\\n        user-select: none;\\n      }\\n\\n      @media (min-width: 768px) {\\n        .bd-placeholder-img-lg[_ngcontent-%COMP%] {\\n          font-size: 3.5rem;\\n        }\\n      }\"]\n  });\n  return LoginComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}