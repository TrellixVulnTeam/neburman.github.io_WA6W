{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/messenger.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"./cart-item/cart-item.component\";\n\nfunction ShoppingCartComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵtext(1, \"La cesta est\\u00E1 vac\\u00EDa\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ShoppingCartComponent_ul_9_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵelement(1, \"app-cart-item\", 11);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r4 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"cartItem\", item_r4);\n  }\n}\n\nfunction ShoppingCartComponent_ul_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(0, \"ul\");\n    i0.ɵɵtemplate(1, ShoppingCartComponent_ul_9_li_1_Template, 2, 1, \"li\", 10);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.productList);\n  }\n}\n\nfunction ShoppingCartComponent_li_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(0, \"li\", 12)(1, \"strong\");\n    i0.ɵɵtext(2, \"Total\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"currency\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(4, 1, ctx_r2.cartTotal, \"EUR\"), \" \");\n  }\n}\n\nexport let ShoppingCartComponent = /*#__PURE__*/(() => {\n  class ShoppingCartComponent {\n    constructor(msg) {\n      this.msg = msg;\n      this.productList = [//{id:1, productId: 3, productName:'Test1', qty:3, price:200},\n        //{id:2, productId: 7, productName:'Test2', qty:6, price:120}\n      ];\n      this.cartTotal = 0;\n    }\n\n    ngOnInit() {\n      this.msg.getMsg().subscribe(product => {\n        this.addProductToCart(product);\n      });\n    }\n\n    addProductToCart(product) {\n      let productExists = false;\n\n      for (let i in this.productList) {\n        if (this.productList[i].productId === product.id) {\n          this.productList[i].qty++;\n          productExists = true;\n          break;\n        }\n      }\n\n      if (!productExists) {\n        this.productList.push({\n          productId: product.id,\n          productName: product.name,\n          qty: 1,\n          price: product.price\n        });\n      }\n\n      this.cartTotal = 0;\n      this.productList.forEach(item => {\n        this.cartTotal += item.qty * item.price;\n      });\n    }\n\n    removeProductFromCart(product) {}\n\n  }\n\n  ShoppingCartComponent.ɵfac = function ShoppingCartComponent_Factory(t) {\n    return new (t || ShoppingCartComponent)(i0.ɵɵdirectiveInject(i1.MessengerService));\n  };\n\n  ShoppingCartComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ShoppingCartComponent,\n    selectors: [[\"app-shopping-cart\"]],\n    decls: 11,\n    vars: 3,\n    consts: [[\"id\", \"carrito\", 1, \"position-absolute\", \"top-0\", \"end-0\", \"bg-secondary\", \"p-10\"], [1, \"mx-5\", \"my-3\"], [\"class\", \"alert alert-info text-center\", 4, \"ngIf\"], [\"role\", \"button\", 1, \"position-absolute\", \"top-0\", \"end-0\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"16\", \"height\", \"16\", \"fill\", \"currentColor\", \"viewBox\", \"0 0 16 16\", 1, \"bi\", \"bi-x-circle\", \"m-2\"], [\"d\", \"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\"], [\"d\", \"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"], [4, \"ngIf\"], [\"class\", \"list-group-item active text-center position-relative top-0 end-5\", 4, \"ngIf\"], [1, \"alert\", \"alert-info\", \"text-center\"], [4, \"ngFor\", \"ngForOf\"], [3, \"cartItem\"], [1, \"list-group-item\", \"active\", \"text-center\", \"position-relative\", \"top-0\", \"end-5\"]],\n    template: function ShoppingCartComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h3\", 1);\n        i0.ɵɵtext(2, \"Cesta de productos\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"div\");\n        i0.ɵɵtemplate(4, ShoppingCartComponent_div_4_Template, 2, 0, \"div\", 2);\n        i0.ɵɵelementStart(5, \"span\", 3);\n        i0.ɵɵnamespaceSVG();\n        i0.ɵɵelementStart(6, \"svg\", 4);\n        i0.ɵɵelement(7, \"path\", 5)(8, \"path\", 6);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(9, ShoppingCartComponent_ul_9_Template, 2, 1, \"ul\", 7);\n        i0.ɵɵtemplate(10, ShoppingCartComponent_li_10_Template, 5, 4, \"li\", 8);\n        i0.ɵɵelementEnd()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.productList.length === 0);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.productList.length > 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.productList.length > 0);\n      }\n    },\n    directives: [i2.NgIf, i2.NgForOf, i3.CartItemComponent],\n    pipes: [i2.CurrencyPipe],\n    styles: [\"ul[_ngcontent-%COMP%]{list-style:none}#carrito[_ngcontent-%COMP%]{z-index:100;background-color:green}\"]\n  });\n  return ShoppingCartComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}